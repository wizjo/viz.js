<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title id="viz-title">HighStock Timeline</title>
    <link type="text/css" rel="stylesheet" href="stylesheets/example.css"/>
    <link type="text/css" rel="stylesheet" href="stylesheets/tipsy.css">
    
    <!-- jquery -->
    <script type="text/javascript" src="../lib/jquery/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="../lib/jquery/jquery-ui-1.8.17.custom.min.js"></script>
    <script type="text/javascript" src="../lib/jquery/jquery.tipsy.js"></script>
    
    <!-- include your local d3 library instead -->
    <script type="text/javascript" src="../lib/d3/d3.js"></script>
    <script type="text/javascript" src="../lib/d3/d3.layout.js"></script>
    <script type="text/javascript" src="../lib/d3/d3.chart.js"></script>
    
    <!-- visualizie base classes -->
    <script type="text/javascript" src="../lib/highstock/highstock.js"></script>
    <script type="text/javascript" src="../lib/highstock/exporting.js"></script>
    
    <!-- data managers -->
    <script type="text/javascript" src="../manager/manager.js"></script>
    <script type="text/javascript" src="../manager/to_wow_highchart.js"></script>
  </head>
  <body>
    <div id="chart-div"></div>
    <script type="text/javascript">
     $.getJSON("datasets/key_metrics.json", function(data){
       var raw_data = data.engagement;
       var highchart_data = VizJs.toWowHighChart(raw_data, "engaged_users");

       var chart = new Highcharts.StockChart({
   		    chart: { renderTo: "chart-div" }
   		  , colors: ['#c82800', '#274bc9', '#728be3', '#c7d1f4']
   		  , credits: { enabled: false }
   		  , rangeSelector: { selected: 0 }
   		  , tooltip: { 
   		      pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.change}%)<br/>',
   		      valueDecimals: 2 }
   		  , series: highchart_data
   		});
     })
    </script>
  </body>
</html>


