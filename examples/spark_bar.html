<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title id="viz-title">Spark Bar</title>
    <link type="text/css" rel="stylesheet" href="stylesheets/example.css"/>
    <link type="text/css" rel="stylesheet" href="stylesheets/tipsy.css">
    
    <!-- jquery -->
    <script type="text/javascript" src="../lib/jquery/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="../lib/jquery/jquery-ui-1.8.17.custom.min.js"></script>
    <script type="text/javascript" src="../lib/jquery/jquery.tipsy.js"></script>
    
    <!-- include your local d3 library instead -->
    <script type="text/javascript" src="../lib/d3/d3.js"></script>
    <script type="text/javascript" src="../lib/d3/d3.layout.js"></script>
    <script type="text/javascript" src="../lib/d3/d3.chart.js"></script>
    
    <!-- visualizie base classes -->
    <script type="text/javascript" src="../class.js"></script>
    <script type="text/javascript" src="../chart.js"></script>
    <script type="text/javascript" src="../spark_bar.js"></script>
  </head>
  <body>
    <div class="chart" id="chart-div" style="width:300px; height:200px;"></div>
    <script type="text/javascript">
      var data = {
        series: [
          {time_id: "2012-02-01 00:05:00", y: 125.38, state: "succeeded"},
          {time_id: "2012-02-01 01:05:00", y: 119.23, state: "succeeded"},
          {time_id: "2012-02-01 02:05:00", y: 108.65, state: "failed"},
          {time_id: "2012-02-01 03:05:00", y: 108.65, state: "failed"},
          {time_id: "2012-02-01 04:05:00", y: 108.65, state: "failed"},
          {time_id: "2012-02-01 05:05:00", y: 108.65, state: "failed"},
          {time_id: "2012-02-01 06:05:00", y: 0, state: "running"} ]
      };
      
      var chart = new SparkBar("#chart-div", data, {
          height: 80
        , minBarHeight: 10
        , leftMargin: 5 // give it a larger leftMargin when you want the y-axis to be on the left-hand side
        , rightMargin: 5
        , topMargin: 5
        , bottomMargin: 5
        , space: 2 // space between vertical bars
        , baseline: "bottom" // "bottom": bar extends upwards; "top": bar extends downwards
        , drawBaseline: true
        , stacked: true // false: grouped bars; true: stacked bars (when there's one than one series)
        , barWidth: 10
        // , fill: d3.scale.ordinal().range(['#77c5d5', '#ed8b00', '#78be20', '#f3d03e', '#d14124', '#0092bc']) //comment out this line if you wanna style bars at a series level in css
        , useTipsy: true
      });
    </script>
  </body>
</html>
