<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Line Chart</title>
    <link type="text/css" rel="stylesheet" href="stylesheets/example.css"/>
    <link type="text/css" rel="stylesheet" href="stylesheets/tipsy.css">
    
    <!-- jquery -->
    <script type="text/javascript" src="../lib/jquery/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="../lib/jquery/jquery.tipsy.js"></script>
    
    <!-- d3 library -->
    <script type="text/javascript" src="../lib/d3.v2.min.js"></script>
    
    <!-- visualizie base classes -->
    <script type="text/javascript" src="../class.js"></script>
    <script type="text/javascript" src="../chart.js"></script>
    <script type="text/javascript" src="../filled_series.js"></script>
  </head>
  <body>
    <h1>Filled Series Chart</h1>
    <div class="chart" id="filled_series"></div>
    <script type="text/javascript">
      var data = {
        top: [ 
          {x:0,y:5.295770},{x:1,y:4.687696},{x:2,y:4.780019},{x:3,y:4.708572},{x:4,y:4.059563},{x:5,y:3.304786},{x:6,y:3.698539},{x:7,y:5.769050},
          {x:8,y:7.148457},{x:9,y:5.379059},{x:10,y:5.096190},{x:11,y:3.430098},{x:12,y:3.650171},{x:13,y:3.930086},{x:14,y:5.255793},{x:15,y:4.658709},
          {x:16,y:5.083070},{x:17,y:5.085777},{x:18,y:4.228270},{x:19,y:4.367545},{x:20,y:4.765577},{x:21,y:5.031843},{x:22,y:5.614700},{x:23,y:6.586822}
        ],
        bottom: [
          {x:0,y:3.411224},{x:1,y:1.151568},{x:2,y:3.944863},{x:3,y:2.207100},{x:4,y:1.863008},{x:5,y:2.5},{x:6,y:2.6},{x:7,y:4.302097},
          {x:8,y:3.900753},{x:9,y:2.673806},{x:10,y:2.318036},{x:11,y:1.2},{x:12,y:1.981834},{x:13,y:2.588354},{x:14,y:2.327278},{x:15,y:3.0},
          {x:16,y:2.546604},{x:17,y:3.539270},{x:18,y:2.657060},{x:19,y:3.645859},{x:20,y:3.330045},{x:21,y:2.217949},{x:22,y:3.230335},{x:23,y:4.268979}
        ],
        mean: [
          {x:0,y:4.409359},{x:1,y:4.231371},{x:2,y:4.270392},{x:3,y:3.697520},{x:4,y:3},{x:5,y:3.0},{x:6,y:3.45},{x:7,y:5},
          {x:8,y:5.5},{x:9,y:4.854011},{x:10,y:4.461596},{x:11,y:2},{x:12,y:3.2},{x:13,y:3.297944},{x:14,y:4.521973},{x:15,y:4.5},
          {x:16,y:4.682949},{x:17,y:4},{x:18,y:3.605923},{x:19,y:3.835811},{x:20,y:3.718230},{x:21,y:4.142473},{x:22,y:3.551300},{x:23,y:4.945163}
        ]
      };
      var time_ids = ["2010/02/01 00:00:00","2010/03/01 00:00:00",
        "2010/04/01 00:00:00","2010/05/01 00:00:00","2010/06/01 00:00:00","2010/07/01 00:00:00","2010/08/01 00:00:00",
        "2010/09/01 00:00:00","2010/10/01 00:00:00","2010/11/01 00:00:00","2010/12/01 00:00:00","2011/01/01 00:00:00",
        "2011/02/01 00:00:00","2011/03/01 00:00:00","2011/04/01 00:00:00","2011/05/01 00:00:00","2011/06/01 00:00:00",
        "2011/07/01 00:00:00","2011/08/01 00:00:00","2011/09/01 00:00:00","2011/10/01 00:00:00","2011/11/01 00:00:00",
        "2011/12/01 00:00:00","2012/01/01 00:00:00"];
      
      var width = 800
        , height = 500
        , xLeftMargin = 50
        , xRightMargin = 30 
        , yMargin = 50
        , startX = new Date(time_ids[0])
        , endX = new Date(time_ids[time_ids.length - 1]);

      var filled_series = new FilledSeries("#filled_series", data, {
          width: width
        , height: height
        , xLeftMargin: xLeftMargin
        , xRightMargin: xRightMargin
        , yMargin: yMargin
        , startX: startX
        , endX: endX
        , xLineTransform: function(n) { return new Date(time_ids[n]); }
        , x: d3.time.scale().domain([startX, endX]).range([0 + xLeftMargin, width - xLeftMargin - xRightMargin])
        , fill: d3.scale.ordinal().range(['#77c5d5', '#ed8b00', '#78be20', '#f3d03e', '#d14124', '#0092bc'])
        , xNumTicks: 10
        , yNumTicks: 11
        , rightAxis: d3.svg.axis().scale(
            d3.scale.linear().domain([0, 100]).range([height - yMargin, 0 + yMargin])
          ).ticks(10).orient('right')
        , drawDots: true // option to add dots to lines
        , useTipsy: true // mouseover tooltips
        , dot_radius: 5
      });
    </script>
  </body>
</html>
